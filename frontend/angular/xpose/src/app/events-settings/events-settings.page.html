<!-- event-settings.component.html -->

<ion-header [translucent]="true">
  <ion-toolbar class="custom-toolbar">
    <ion-buttons slot="start">
      <app-backbutton></app-backbutton>
    </ion-buttons>
    <!-- Header content goes here -->
    <h3>Event Settings</h3>
  </ion-toolbar>
</ion-header>

<ion-content [scrollY]="true" [fullscreen]="true" class="custom-background">
  <div class="event-settings">
    <section class="form-section">
      <h3>Event Details</h3>
      <form #form="ngForm" (ngSubmit)="updateEvent(form)">
        
      <!-- Change Cover Image -->
      <div class="form-group">
        <label for="coverImage">Change Cover Image:</label>
        <img [src]="createEvent.image_url" alt="Current Cover Image" *ngIf="createEvent.image_url">
        <input type="file" id="coverImage" (change)="onFileSelected($event)">
      </div>      

      <!-- Change Title -->
      <div class="form-group">
        <label for="eventTitle">Change Title:</label>
        <input [value]="createEvent.title" type="text" id="eventTitle">
      </div>

      <!-- Change Description -->
      <div class="form-group">
        <label for="eventDescription">Change Description:</label>
        <textarea id="eventDescription" [value]="createEvent.description"></textarea>
      </div>

      <!-- Change Location -->
      <ion-searchbar class="ther" name="location" [(ngModel)]="createEvent.location" (ionInput)="onLocationInput($event)" autocomplete="off"></ion-searchbar>

      <ion-list>
        <ion-item *ngFor="let prediction of locationPredictions" (click)="onLocationSelect(prediction)">
          <ion-icon name="location"></ion-icon> {{ prediction.description }}
        </ion-item>
      </ion-list>

    <!-- Change Dates from Calendar -->
    <div class="form-group">
      <label for="startDate">Start Date:</label>
      <ion-input [value]="createEvent.start_date" [(ngModel)]="createEvent.start_date" type="date" id="startDate"></ion-input>
    </div>

    <div class="form-group">
      <label for="endDate">End Date:</label>
      <ion-input [value]="createEvent.start_date" [(ngModel)]="createEvent.end_date" type="date" id="endDate"></ion-input>
    </div>

      <!-- Access Privacy (Public/Private) -->
      <div class="form-group">
        <label>Access Privacy:</label>
        <ion-radio-group id="accessPrivacy" [value]="createEvent.privacy_setting">
          <ion-item>
            <ion-label>Public</ion-label>
            <ion-radio value="public"></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>Private</ion-label>
            <ion-radio value="private"></ion-radio>
          </ion-item>
        </ion-radio-group>
      </div>

      <!-- Save Changes Button -->
      <div class="form-group">
        <button type="submit">Save Changes</button>
      </div>
      </form>
    </section>

    <section class="form-section">
      <h3>Posts Settings</h3>
      <!-- Posts Settings -->
      <form (ngSubmit)="onSubmit()" #form="ngForm">
        <div class="form-group">
          <h4>Image processing</h4>
          <ion-checkbox id="facialRecognition">Facial Recognition</ion-checkbox>
          <ion-checkbox id="deepFaceProtection">Deep Face Protection</ion-checkbox>
          <ion-checkbox id="encryption">Encryption</ion-checkbox>
        </div>
        <!-- Save Changes Button -->
        <div class="form-group">
          <button>Save Changes</button>
        </div>
      </form>
    </section>

    <section class="form-section">
      <!-- Chats Settings -->
      <h3>Chats Settings</h3>
      
      <form (ngSubmit)="onSubmit()" #form="ngForm">
        <div class="form-group">
          <h4>Who can send messages?</h4>
          <ion-radio-group id="chatSettings">
            <ion-item>
              <ion-label>Only Admin</ion-label>
              <ion-radio value="admin"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>Everyone</ion-label>
              <ion-radio value="everyone"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </div>
        <!-- Chat Restrictions -->
        <div class="form-group">
          <h4>Chat Restrictions</h4>
          <ion-checkbox id="profanity">Allow Profanity</ion-checkbox>
          <ion-checkbox id="negativeMessages">Allow Negative Messages</ion-checkbox>
        </div>
    
        <!-- Save Changes Button -->
        <div class="form-group">
          <button id="saveChangesButton">Save Changes</button>
        </div>
      </form>
    </section>

  </div>
</ion-content>
